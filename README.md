# SimpleWall — микросервисная платформа для публикации и взаимодействия с контентом

SimpleWall — это backend-платформа, позволяющая пользователям делиться фотографиями, взаимодействовать с контентом и отслеживать активность.

## Основные возможности:
- Регистрация и публикация постов с описанием
- Редактирование и удаление своих постов
- Просмотр всех постов
- Лайки и дизлайки для любого поста
- Отображение количества лайков и списка лайкеров
- Комментирование постов и отправка уведомлений на фронтенд
- Редактирование и удаление своих комментариев
- Просмотр конкретного комментария или списка комментариев к посту
- Получение списка всех постов пользователя с подсчетом лайков и комментариев

Проект построен на основе микросервисной архитектуры и не включает frontend, предоставляя HTTP API для работы с данными.

## Структура проекта
Приложение состоит из 7 микросервисов, каждый из которых выполняет свою функцию:
.![SimpleWall-diagram](https://github.com/user-attachments/assets/6d823b5a-e715-4c29-8136-3ff4d1c79368)
- **Gateway** — маршрутизация запросов (монолит архитектура).
- **Auth** — аутентификация пользователей с JWT-токенами (трехслойная архитектура)
- **Post** — управление постами (трехслойная архитектура).
- **Like** — обработка лайков и дизлайков (трехслойная архитектура).
- **Comment** — управление комментариями (трехслойная архитектура).
- **Wall** — сборка ленты новостей (hexagonal архитектура).
- **Notification** — уведомления (трехслойная архитектура).

### Эндпоинты

### auth-service:
- **POST /register** – Регистрация нового пользователя.
- **POST /login** – Вход для получения токена.
- **POST /validate** – Проверка токена.

### post-service:
- **POST /post** – Выложить пост.
- **GET /post/{post_id}** – Получить пост по `post_id`.
- **DELETE /post/{post_id}** – Удалить пост по `post_id` (если владелец – вы).
- **PUT /post/{post_id}** – Редактировать пост по `post_id` (если владелец – вы).

### like-service:
- **POST /like** – Лайкнуть пост, `post_id` которого указан в теле.
- **GET /likes/count?post_id={post_id}** – Получить количество лайков по `post_id`.
- **GET /likes?post_id={post_id}** – Получить список лайкеров по `post_id`.
- **DELETE /like** – Анлайкнуть пост, `post_id` которого указан в теле.

### comment-service:
- **POST /comment** – Написать комментарий к посту, `post_id` которого указан в теле.
- **PUT /comment/{comment_id}** – Редактировать комментарий по `comment_id` (если владелец – вы).
- **DELETE /comment/{comment_id}** – Удалить комментарий по `comment_id` (если владелец – вы).
- **GET /comment/{comment_id}** – Получить комментарий по `comment_id`.
- **GET /comments?post_id={post_id}** – Получить список комментариев по `post_id`.

### wall-service:
- **GET /wall?user_id={user_id}** – Получить стену постов пользователя по `user_id`.

### Используемые технологии
- **PostgreSQL** — используется две базы данных:
  - `sw_users_auth` для аутентификации.
  - `sw_posts_db` для хранения постов, лайков и комментариев.
![ERD_for_SW](https://github.com/user-attachments/assets/1a3a3ade-e438-482f-9f0b-aa546c6fcf43)
- **Redis** — кэширование для быстрой загрузки ленты (Wall).
- **Kafka** — передача сообщений (`comment-kafka-notification`).
- **Прототип S3** — собственная (очень плохая, но рабочая) реализация хранилища бинарных файлов.
- **Docker** — все сервисы разворачиваются в контейнерах.
- **Git** — разработка велась через отдельные ветки, имитируя реальную работу в команде.

